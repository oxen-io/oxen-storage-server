loki-storage-server (2.0.2-1~deb10) buster; urgency=medium

  [ Jason Rhinelander ]
  * Rediff patches

  [ Maxim Shishmarev ]
  * Update Dockerfile

  [ Jason Rhinelander ]
  * Fix segfault when connection_t object is gone

  [ Maxim Shishmarev ]
  * Fix not writing response after exception; bump lmq message size limit

  [ Ryan Tharp ]
  * update readme for latest loki-mq

  [ Maxim Shishmarev ]
  * Inactive nodes maintain a full snode list
  * Bump version to 2.0.2

 -- Jason Rhinelander <jason@imaginary.ca>  Tue, 24 Mar 2020 11:41:16 -0300

loki-storage-server (2.0.1-1~deb10) buster; urgency=medium

  [ Jason Rhinelander ]
  * Rediff patches
  * Update lokimq include paths
  * Update loki-mq to latest & force it to build statically
  * Change submodule path to use https
  * Remove more unneeded include dirs
  * Devendor lokimq
  * Add default lmq-port; remove deprecated lokid-key option
  * Update ufw rule for new port
  * Increase .service file descriptor limit
  * Update deps for lokimq, lokid 7
  * Rediff patches

  [ Maxim Shishmarev ]
  * Improve error reporting for onion requests
  * Changes in stats
  * Bump version to 2.0.1
  * Fix no return value

 -- Jason Rhinelander <jason@imaginary.ca>  Tue, 17 Mar 2020 04:06:56 -0300

loki-storage-server (2.0.0-1~deb10) buster; urgency=medium

  [ Jason Rhinelander ]
  * Rediff patches
  * Rediff patches

  [ Ryan Tharp ]
  * Fix foundation's mainnet port to not use testnet port
  * Minor readability fix

  [ Maxim Shishmarev ]
  * Initial lokimq integration. Onion requests to SS.
  * Add thread synchronisation
  * Allow onion requests to loki servers
  * Send lokimq port in pings to lokid; obtain lokimq ports for other nodes from lokid
  * Use the correct decryption in proxy requests; handle long-polling in direct requests
  * Automatically activate SS when syncing seems to take a long time
  * Bump version to 2.0.0
  * Update Dockerfile

 -- Jason Rhinelander <jason@imaginary.ca>  Sat, 14 Mar 2020 14:47:27 -0300

loki-storage-server (1.0.10-1~deb10) buster; urgency=medium

  [ Jason Rhinelander ]
  * Use get_n_service_node's poll_block_hash for swam updates
  * RNG optimizations

  [ Maxim Shishmarev ]
  * Fix not responding immediately on proxy request
  * Update seed nodes
  * Increase message size limit to 100KB

  [ Jason Rhinelander ]
  * Add systemd notify support
  * Fix spdlog compatibility
  * Add swarmid & size to systemd Status line

  [ Maxim Shishmarev ]
  * Fix incorrect requests to seed nodes
  * Update spdlog submodule
  * Bump version to 1.0.10

 -- Jason Rhinelander <jason@imaginary.ca>  Wed, 04 Mar 2020 20:07:16 -0400

loki-storage-server (1.0.9-4~deb10) buster; urgency=medium

  * Add missing pkg-config dep

 -- Jason Rhinelander <jason@imaginary.ca>  Wed, 26 Feb 2020 16:49:49 -0400

loki-storage-server (1.0.9-3~deb10) buster; urgency=medium

  * Add systemd notify support
  * Change service files to Type=notify with watchdog

 -- Jason Rhinelander <jason@imaginary.ca>  Wed, 26 Feb 2020 14:13:47 -0400

loki-storage-server (1.0.9-2~deb10) buster; urgency=medium

  * Add testnet option to testnet storage conf

 -- Jason Rhinelander <jason@imaginary.ca>  Sat, 28 Dec 2019 15:45:40 -0400

loki-storage-server (1.0.9-1~deb10) buster; urgency=medium

  [ Jason Rhinelander ]
  * Fix length validation for ed25519 key

  [ Maxim Shishmarev ]
  * Bind to 0.0.0.0 by default

 -- Jason Rhinelander <jason@imaginary.ca>  Thu, 26 Dec 2019 17:27:44 -0400

loki-storage-server (1.0.9~pre2-1~deb10) buster; urgency=medium

  [ Maxim Shishmarev ]
  * Remove unused compile-time option for disabling signatures
  * Fix base64 boost dependency
  * Can specify lokid key as a command line option in integration tests only
  * Incorporate new keys
  * Add public ed25519 key derivation
  * Address review comments
  * Allow messenger clients to proxy to other snodes
  * Add missing early return
  * Allow messenger clients to proxy to Loki's file server
  * Allow large requests for proxy
  * Minor clean up
  * Allow more frequent requests between service nodes. Bump version to 1.0.9
  * Bug fixes
  * Fix linux compilation

  [ Jason Rhinelander ]
  * Rediff patches

 -- Jason Rhinelander <jason@imaginary.ca>  Fri, 20 Dec 2019 20:53:44 -0400

loki-storage-server (1.0.9~pre1-2~deb10) buster; urgency=medium

  * Rediff patches
  * Bump PATCH to 9 for pre-release version
  * Bump required lokid versions

 -- Jason Rhinelander <jason@imaginary.ca>  Mon, 16 Dec 2019 23:45:25 -0400

loki-storage-server (1.0.9~pre1-1~deb10) buster; urgency=medium

  * Don't terminate two-arg LOKI_LOG with ;
  * Allow overriding lokid rpc ip
  * Fetch SN private key from lokid on startup

 -- Jason Rhinelander <jason@imaginary.ca>  Sat, 14 Dec 2019 19:15:38 -0400

loki-storage-server (1.0.8-1~deb10) buster; urgency=medium

  [ Maxim Shishmarev ]
  * Delay accepting new connections if failed
  * Address code review
  * Attempt to perform ssl shutdown every time the deadline timer is cancelled
  * Bump version to 1.0.8
  * More robust clean-up for incoming connections
  * Silence another error message

 -- Jason Rhinelander <jason@imaginary.ca>  Fri, 25 Oct 2019 01:57:24 -0300

loki-storage-server (1.0.7-1~deb10) buster; urgency=medium

  [ Jason Rhinelander ]
  * Use default testnet rpc port under --testnet

  [ Maxim Shishmarev ]
  * Change ping testing to not require snode signatures
  * Fix not being able to find decommissioned node
  * Properly shutdown http (lokid) connection on deadline timer
  * Print open file descriptor limit
  * Improve diagnostics for open file descriptors
  * Fix making unnecessary swarm requests to lokid in some exceptional cases
  * Always relay messages in batches
  * Bump version to 1.0.7

  [ Maxim Shishmarev ]
  * Fix incorrectly decrementing open http connections on timeout
  * Send version in ping to Lokid
  * Clang format
  * Version as a triplet
  * From strings to numbers for version triplet in ping json
  * Separate type for user pubkey
  * Periodically ping other service nodes
  * Bookkeeping for reachability of nodes; reporting them to Lokid
  * Make storage server aware of decommissioned nodes; test them
  * Only enable reachability testing after HF13
  * Address review comments
  * Derive tester/testee based on older (more stable) block
  * Don't forget to test decommissioned nodes
  * Fix compiler error after merge

  [ Beaudan ]
  * Add testnet flag and set it on service_node

  [ Maxim Shishmarev ]
  * Resolve conflicts and clean up
  * Remove unused code
  * Use singleton
  * Record whether storage test was rejected by testee
  * Bump version to 1.0.6

  [ Jason Rhinelander ]
  * Fix a crash when expiring

  [ Maxim Shishmarev ]
  * Fix inactive nodes not responding to reachability tests

  [ Jason Rhinelander ]
  * Soften storage server Requires to Wants

 -- Jason Rhinelander <jason@imaginary.ca>  Wed, 09 Oct 2019 01:52:20 -0300

loki-storage-server (1.0.5-1~deb10) buster; urgency=medium

  [ Maxim Shishmarev ]
  * send the reason a node is not ready in response body
  * Send height and target height in get stats
  * Add the number of active connections of each type in get_stats
  * Clean-up log messages
  * Expose error logs via get_logs endpoint
  * Always provide error body together with http error code
  * Add the number of recent store/retrieve requests to stats
  * Bump version to 1.0.5
  * address review suggestions
  * Warn the operator if the version of the storage server is out of date
  * Reduce warn to debug for a socket-related log message

 -- Jason Rhinelander <jason@imaginary.ca>  Sat, 17 Aug 2019 03:58:39 -0300

loki-storage-server (1.0.4-1~deb10) buster; urgency=medium

  [ Maxim Shishmarev ]
  * Update Dockerfile

  [ Jason Rhinelander ]
  * Fix PoW TXT parsing, add some failure debugging

  [ Maxim Shishmarev ]
  * bump version number
  * fetch version.js
  * send version on get_stats

  [ Beaudan ]
  * Ignore swapfiles and reject localhost binding
  * Only receive active nodes from get_n_service_nodes

  [ Maxim Shishmarev ]
  * add function name to every log message

  [ Beaudan ]
  * Only use ipv4 results for http and use url for seed nodes

  [ Maxim Shishmarev ]
  * Detect if invalid port is used
  * Bump version to 1.0.4

 -- Jason Rhinelander <jason@imaginary.ca>  Fri, 26 Jul 2019 10:19:45 -0300

loki-storage-server (1.0.2-2~deb10) buster; urgency=medium

  * Downgrade loki-service-node to Suggests

 -- Jason Rhinelander <jason@imaginary.ca>  Thu, 18 Jul 2019 17:21:13 -0300

loki-storage-server (1.0.2-1~deb10) buster; urgency=medium

  * Initial Release.

 -- Jason Rhinelander <jason@loki.network>  Tue, 16 Jul 2019 13:40:14 -0300

